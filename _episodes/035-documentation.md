---
title: "Documenting your package"
teaching: 0
exercises: 0
questions:
- "How can I make my package understandable and reusable?"
objectives:
- "Use roxygen2 for creating documentation"
- "Use roxygen2 for managing the NAMESPACE file"
keypoints:
- "Documentation is not optional"
- "Roxygen helps us with the otherwise tedious process of documenting"
---

## Why documenting?

Your code is going to be read by people, for instance:

- People interested in your research.
- Potential users of your code.
- Colleagues and collaborators.
- Yourself, in the future, after you forgot all the tiny details.

For this and other reasons, it is a very good idea to invest some time in writing good documentation.
The most practical way of doing this is by integrating the documentation writing as part of the functions.
This is exactly what the package `roxygen2` helps us with.

## `roxygen2`

`roxygen2` is a package that makes writing packages much easier.
In particular, `roxygen2` takes care of your functions' documentation.
As a bonus, it also takes care of the `NAMESPACE` file.
If you don't have it installed (you can check by trying `library(roxygen2)`), please do it now (`install.packages("roxygen2")`).

Unfortunately, using it requires manually configuring a few things.
Please follow these steps:

> ## Using `roxygen2` for the first time
> - Delete `NAMESPACE`. `roxygen2` will create a new one for you.
> - Delete the `man/` folder. `roxygen2` will create a new one for you.
> - In the upper right panel, go to `Build > More > Configure Build Tools`. You'll see a menu like this:
> ![Project options](../fig/project-options.png)
> - Tick `Generate documentation with Roxygen`.
> A new menu will appear:
> ![Project options](../fig/roxygen-options.png)
> - Tick `Install and restart`.
>
> And you are all set!
{: .checklist}

Let's create our first `roxygen` skeleton.
You can follow the steps in the animation below.
Please note that, before pressing `Code > Insert Roxygen skeleton` your cursor has to be inside the function's body.

![Roxygen skeleton](../fig/roxygen-skeleton.gif)

- The `return` field refers to the output. In this case, although something is printed to the screen, no output is provided (in the sense that `var <- hello()` is not assigned any value).
- The `export` field means that this function should be exported to the `NAMESPACE`.
- The `examples` field is used, as you can guess, for adding examples to the documentation. We'll not use it now, so we can delete it.

> ## Building the documentation (and NAMESPACE)
> If you configured `roxygen2` as we suggested in section _"Using `roxygen2` for the first time"_, the documentation will be generated every time you press _"Install and restart"_ in the _"Build"_ menu at the upper right side of `RStudio`. The tab will also contain a _"Document"_ only:
>
> ![Document](../fig/document.gif)
>
{: .callout}
## Reading the documentation

After generating the documentation and installing the package, the documentation generated by `roxygen2` can be accessed as usual in `R` using a question mark and the name of the function we are interested in:

~~~r
?hello
~~~
{: .source}

The help menu will open and show something like this:

![Help](../fig/help.png)


{% include links.md %}
